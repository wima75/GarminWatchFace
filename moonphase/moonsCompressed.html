<html>
<head>
    <script src="moonstuff.js" type="text/javascript"></script>
</head>
<body>
    <pre>
    <script>

        function encodeDate(d, m, y) {
            return encodeDay(d) + encodeMonth(m) + encodeYear(y) + "";
        }

        function encodeDay(d) {
            if (d >= 10) {
                return String.fromCharCode(97 + (d-10));
            } else {
                return d + "";
            }
        }

        function encodeMonth(m) {
            if (m >= 10) {
                return String.fromCharCode(119 + (m - 10));
            } else {
                return m + "";
            }
        }

        function encodeYear(y) {
            return String.fromCharCode(65 + (y - 2015));
        }

        document.writeln("");

        var end = new Date(2040, 12-1, 31, 23, 59, 59);
        var date = new Date(2019, 3 - 1, 8, 0, 0, 0);

        var moons = new Array();

        do {
            //calcFullMoonPhase({ yy: date.getFullYear(), mm: date.getMonth() + 1, dd: date.getDate(), hr: 0, min: 0, sec: 0 });
            calcNewMoonPhase({ yy: date.getFullYear(), mm: date.getMonth() + 1, dd: date.getDate(), hr: 0, min: 0, sec: 0 });
            var nextdate = Date.UTC(next.yy, next.mm - 1, next.dd);
            var nextdatetime = Date.UTC(next.yy, next.mm - 1, next.dd, next.hr, next.min, next.sec);

            document.write(encodeDate(next.dd, next.mm, next.yy));

            moons.push(nextdate / 1000);
            date = new Date(nextdatetime + 48 * 3600 * 1000);
            date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);

        } while (date < end);
        
        document.writeln("");
       
    </script>
</pre>

</body>
</html>